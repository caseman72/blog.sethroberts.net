<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:itunes="http://www.itunes.com/dtds/podcast-1.0.dtd"
xmlns:rawvoice="http://www.rawvoice.com/rawvoiceRssModule/"
>

<channel>
	<title>Seth&#039;s Blog &#187; R code</title>
	<atom:link href="http://blog.sethroberts.net/category/self-experimentation/r-code/feed/" rel="self" type="application/rss+xml" />
	<link>http://blog.sethroberts.net</link>
	<description>Personal Science, Self-Experimentation, Scientific Method</description>
	<lastBuildDate>Mon, 25 Aug 2014 20:18:36 +0000</lastBuildDate>
	<language>en-US</language>
		<sy:updatePeriod>hourly</sy:updatePeriod>
		<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.7.1</generator>
<!-- podcast_generator="Blubrry PowerPress/5.0.2" mode="simple" -->
	<itunes:summary>Personal Science, Self-Experimentation, Scientific Method</itunes:summary>
	<itunes:author>Seth&#039;s Blog</itunes:author>
	<itunes:explicit>no</itunes:explicit>
	<itunes:image href="http://blog.sethroberts.net/wp-content/plugins/powerpress/itunes_default.jpg" />
	<itunes:subtitle>Personal Science, Self-Experimentation, Scientific Method</itunes:subtitle>
	<image>
		<title>Seth&#039;s Blog &#187; R code</title>
		<url>http://blog.sethroberts.net/wp-content/plugins/powerpress/rss_default.jpg</url>
		<link>http://blog.sethroberts.net/category/self-experimentation/r-code/</link>
	</image>
	<item>
		<title>Assorted Links</title>
		<link>http://blog.sethroberts.net/2012/07/29/assorted-links-193/</link>
		<comments>http://blog.sethroberts.net/2012/07/29/assorted-links-193/#comments</comments>
		<pubDate>Sun, 29 Jul 2012 12:00:48 +0000</pubDate>
		<dc:creator><![CDATA[Seth Roberts]]></dc:creator>
				<category><![CDATA[academic fraud]]></category>
		<category><![CDATA[Assorted Links]]></category>
		<category><![CDATA[Beijing]]></category>
		<category><![CDATA[breakfast & sleep]]></category>
		<category><![CDATA[China]]></category>
		<category><![CDATA[personal science]]></category>
		<category><![CDATA[quantified self movement]]></category>
		<category><![CDATA[R code]]></category>

		<guid isPermaLink="false">http://blog.sethroberts.net/?p=7191</guid>
		<description><![CDATA[Yale cancels China year-abroad program. One reason is that students in Beijing (at Peking University, one of the best universities in the country) learned less Chinese than students at Yale. European plagiarism epidemic. &#8220;More than a third of a new book for law students on how to write papers properly was plagiarised . . . [&#8230;]]]></description>
				<content:encoded><![CDATA[<ul>
<li><a href="http://www.yaledailynews.com/news/2012/jul/27/end-yale-pku-admins-hopes-unfulfilled/">Yale cancels China year-abroad program</a>. One reason is that students in Beijing (at Peking University, one of the best universities in the country) learned less Chinese than students at Yale.</li>
<li><a href="http://www.bbc.co.uk/news/18962349">European plagiarism epidemic</a>. &#8220;More than a third of <a href="http://copy-shake-paste.blogspot.co.uk/2012/06/strike-two-serial-plagiarism.html">a new book for law students on how to write papers properly was plagiarised</a> . . . The authors vowed to find the culprits.&#8221;</li>
<li><a href="http://universitypost.dk/article/penkowa-dummies">Penkowa for Dummies</a>. Complicated scientific fraud.</li>
<li>Self-tracking difficulties: <a href="http://www.nytimes.com/2012/07/29/technology/nike-fuelband-tracks-physical-activity-inconsistently.html">a fickle and too-demanding exercise tracker</a>. I try to walk 60 minutes/day. It&#8217;s easy to track.</li>
</ul>
<p>Thanks to Anne Weiss.</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2012/07/29/assorted-links-193/feed/</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>Percentile Feedback R Workspace Updated</title>
		<link>http://blog.sethroberts.net/2011/05/21/percentile-feedback-r-workspace-updated/</link>
		<comments>http://blog.sethroberts.net/2011/05/21/percentile-feedback-r-workspace-updated/#comments</comments>
		<pubDate>Sat, 21 May 2011 12:00:50 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
				<category><![CDATA[percentile feedback]]></category>
		<category><![CDATA[productivity]]></category>
		<category><![CDATA[R code]]></category>

		<guid isPermaLink="false">http://blog.sethroberts.net/?p=2832</guid>
		<description><![CDATA[I fixed a few problems and eliminated the one Windows-specific function so it can be used with Macs. The new version is here.]]></description>
				<content:encoded><![CDATA[<p>I fixed a few problems and eliminated the one Windows-specific function so it can be used with Macs.</p>
<p>The new version is <a href="http://sethroberts.net/about/2011-05-20_percentile_feedback.RData">here</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2011/05/21/percentile-feedback-r-workspace-updated/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
		</item>
		<item>
		<title>Percentile Feedback Workspace Available</title>
		<link>http://blog.sethroberts.net/2011/05/18/percentile-feedback-workspace/</link>
		<comments>http://blog.sethroberts.net/2011/05/18/percentile-feedback-workspace/#comments</comments>
		<pubDate>Wed, 18 May 2011 12:00:30 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
				<category><![CDATA[percentile feedback]]></category>
		<category><![CDATA[productivity]]></category>
		<category><![CDATA[R code]]></category>
		<category><![CDATA[self-experimentation]]></category>

		<guid isPermaLink="false">http://blog.sethroberts.net/?p=2802</guid>
		<description><![CDATA[I have put a requested R workspace on my website so that you can download it. The percentile feedback workspace compares your productivity (time spent working/time available to work) today to previous days. When I started using it, I became more productive. Here is an introduction. Here are all posts about it. This is not [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>I have put a requested R workspace on my website so that you can download it. The <a href="http://sethroberts.net/about/2011-05-20_percentile_feedback.RData">percentile feedback workspace</a> compares your productivity (time spent working/time available to work) today to previous days. When I started using it, I became more productive. <a href="http://blog.sethroberts.net/2011/05/01/percentile-feedback-and-productivity/">Here</a> is an introduction. <a href="http://blog.sethroberts.net/category/self-experimentation/productivity/">Here</a> are all posts about it.</p>
<p>This is not for everyone. You need R installed to use it (of course) and  you&#8217;ll need to know at least a little R. You must edit a  function called save.ws so that the workspace is saved in the right  place. I have used it under Windows XP.</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2011/05/18/percentile-feedback-workspace/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Arithmetic Test R Code (part 4)</title>
		<link>http://blog.sethroberts.net/2010/04/08/arithmetic-test-r-code-part-4/</link>
		<comments>http://blog.sethroberts.net/2010/04/08/arithmetic-test-r-code-part-4/#comments</comments>
		<pubDate>Thu, 08 Apr 2010 11:55:16 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
				<category><![CDATA[R code]]></category>

		<guid isPermaLink="false">http://www.blog.sethroberts.net/2010/04/08/arithmetic-test-r-code-part-4/</guid>
		<description><![CDATA[>newmath2.trial function (trial = 1, total.trials = 5, problem=newmath2.problems[1,],condition= &#8220;testing&#8221;, wait.range=c(1500,2500), num.possible=9, note = &#8220;&#8221;) {#give one trial. returns list with components wait, answer.msec, etc. #(&#8220;okay&#8221; or &#8220;aborted&#8221;) and results. # #Â Â Â Â Â Â Â Â Â Â Â Â Â  trialÂ Â Â Â Â Â Â Â Â Â Â Â  trial number #Â Â Â Â Â Â Â Â Â Â Â Â Â  total.trialsÂ Â Â Â Â  trials per session #Â Â Â Â Â Â Â Â Â Â Â Â Â  problemÂ Â Â Â Â Â Â Â Â Â  problem, answer (characters) #Â Â Â Â Â Â Â Â Â Â Â Â Â  condition #Â Â Â Â Â Â Â Â Â Â Â Â Â  wait.rangeÂ Â Â Â Â Â Â  range of wait times (msec) #Â Â Â Â Â Â Â Â Â Â Â Â Â  [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>>newmath2.trial<br />
function (trial = 1, total.trials = 5, problem=newmath2.problems[1,],condition= &#8220;testing&#8221;, wait.range=c(1500,2500), num.possible=9, note = &#8220;&#8221;)<br />
{#give one trial. returns list with components wait, answer.msec, etc.<br />
#(&#8220;okay&#8221; or &#8220;aborted&#8221;) and results.<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  trialÂ Â Â Â Â Â Â Â Â Â Â Â  trial number<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  total.trialsÂ Â Â Â Â  trials per session<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  problemÂ Â Â Â Â Â Â Â Â Â  problem, answer (characters)<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  condition<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  wait.rangeÂ Â Â Â Â Â Â  range of wait times (msec)<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  num.possibleÂ Â Â Â Â  number of possible wait times<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  note<br />
#<br />
tn=paste(&#8220;trial&#8221;,trial,&#8221;of&#8221;,total.trials)<br />
msg=press.space.to.start(below=tn, col = &#8220;brown&#8221;)<br />
if(msg==&#8221;end session&#8221;) return(&#8220;end session&#8221;)<br />
wait.msec=newmath2.foreperiod(wait.range=wait.range, num.possible = num.possible)<br />
t=newmath2.problem(problem=problem)<br />
newmath2.feedback(problem=problem[1],answer.msec=t$answer.msec,correct=t$correct,status=t$status)<br />
list(wait.msec=wait.msec, answer.msec=t$answer.msec,actual.answer=t$actual.answer, correct=t$correct,include=t$include,status=t$status)<br />
}</p>
<p>> press.space.to.start<br />
function (msg = &#8220;press space&#8221;, prompt = &#8220;to start&#8221;, below=&#8221;", beepf=FALSE, bottom =&#8221;press letter to end session&#8221;, col = &#8220;red&#8221;, text.size=5)<br />
{#wait for Enter to start data collection with getGraphicsEvent<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  beepfÂ Â Â Â  beep after input?<br />
#<br />
paint(center=prompt, above = msg, below=below, bottom = bottom, text.size=text.size, col = col)<br />
msg=&#8221;get answer&#8221;<br />
while(msg==&#8221;get answer&#8221;) {<br />
t=getGraphicsEvent(prompt=&#8221;",onKeybd=get.key)<br />
if(beepf) beep()<br />
if (t==&#8221; &#8220;) msg=&#8221;okay&#8221;<br />
if (t %in% strsplit(alphabet,split=&#8221;")[[1]]){<br />
msg = &#8220;end session&#8221;<br />
paint(&#8220;ending session&#8221;)<br />
}<br />
}<br />
msg<br />
}<br />
> newmath2.foreperiod<br />
function (wait.range=c(1000,2000), num.possible = 9)<br />
{#delay for interval randomly selected within given range. Returns<br />
#wait in msec<br />
#<br />
#Â Â Â Â Â Â Â Â Â  wait.rangeÂ Â Â Â Â  lower and upper possible delays (msec)<br />
#Â Â Â Â Â Â Â Â Â  num.possibleÂ Â Â  number of possible waits (which are equally spaced)<br />
#<br />
#<br />
possible.waits=seq(from = wait.range[1],to = wait.range[2], length.out = num.possible)<br />
wait.msec=sample(possible.waits,1)<br />
paint(&#8220;|&#8221;,duration = wait.msec/1000)<br />
wait.msec<br />
}<br />
> newmath2.problem<br />
function (problem = c(&#8220;3+4&#8243;,&#8221;7&#8243;),status = &#8220;okay&#8221;)<br />
{#show new arithmetic problem. Returns list of latency,<br />
#answer, right/wrong, and note.<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  problemÂ Â  vector of problem and answer (both characters)<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  statusÂ Â Â  status<br />
#<br />
newmath2.show(problem[1])<br />
see.time = Sys.time()<br />
actual.answer=getGraphicsEvent(prompt=&#8221;",onKeybd = get.key)<br />
resp.time< <-Sys.time()<br />
answer.msec=as.integer(1000*difftime(resp.time,see.time,unit="sec"))<br />
if(!actual.answer %in% as.character(c(0:9))){<br />
actual.answer=""<br />
answer.msec=NA<br />
correct=NA<br />
include=FALSE<br />
if (an=="q") status = "abort session" else status="abort trial"<br />
}<br />
else {<br />
correct=actual.answer==problem[2]<br />
include=TRUE<br />
status="okay"<br />
}<br />
list(answer.msec=answer.msec,actual.answer=actual.answer,correct=correct, include=include, status = status)<br />
}<br />
> newmath2.feedback<br />
function (trial = 5, problem = &#8220;3+4&#8243;, actual.answer=7, status= &#8220;&#8221;, answer.msec = 639, correct = TRUE, number.back=15)<br />
{#give feedback on trial<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â  trialÂ Â Â Â Â Â Â Â  trial number<br />
#Â Â Â Â Â Â Â Â Â Â Â  problemÂ Â Â Â Â Â  problem shown<br />
#Â Â Â Â Â Â Â Â Â Â Â  actual.answer actual answer (numeric)<br />
#Â Â Â Â Â Â Â Â Â Â Â  correctÂ Â Â Â Â Â  correct?<br />
#Â Â Â Â Â Â Â Â Â Â Â  statusÂ Â Â Â Â Â Â  anything unusual?<br />
#Â Â Â Â Â Â Â Â Â Â Â  answer.msecÂ Â  latency of answer (msec)<br />
#Â Â Â Â Â Â Â Â Â Â Â  number.backÂ Â  compare this rt with how many back?<br />
#<br />
if(status==&#8221;abort block&#8221;){<br />
paint(&#8220;block aborted&#8221;,duration = 1.5)<br />
return()<br />
}<br />
if(status==&#8221;abort session&#8221;){<br />
paint(&#8220;session aborted&#8221;,duration = 1.5)<br />
return()<br />
}<br />
if(!correct){<br />
paint(&#8220;wrong&#8221;,duration = 1.5)<br />
return()<br />
}<br />
previous.answer.msec=newmath2$answer.msec[(problem==newmath2$problem)&#038;newmath2$correct&#038;newmath2$include]<br />
ptile=newmath2.ptile(answer.msec,previous.answer.msec)<br />
ptile.msg=paste(round(ptile),&#8221;%ile&#8221;,sep=&#8221;")<br />
whole.msg=paste(answer.msec,&#8221;ms&#8221;,ptile.msg)<br />
paint(whole.msg, text.size = 4, col = &#8220;blue&#8221;, duration = 1)<br />
}</p>
<p>> paint<br />
function (center=&#8221;",above=&#8221;",below=&#8221;", bottom = &#8220;&#8221;, x = 0, y = 0,xlim = c(-1,1),ylim = c(-1,1),text.size=4, small.size = 2, duration = 1, col=&#8221;red&#8221;, new = TRUE)<br />
{# write text on graph, clearing previous<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  centerÂ Â Â Â Â Â Â Â  text for middle of graph<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  aboveÂ Â Â Â Â Â Â Â Â  text above that<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  belowÂ Â Â Â Â Â Â Â Â  text below that<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bottomÂ Â Â Â Â Â Â Â  small text at bottom<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  xÂ Â Â Â Â Â Â Â Â Â Â Â Â  x location of text<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  yÂ Â Â Â Â Â Â Â Â Â Â Â Â  y location<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  xlim<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ylim<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  text.sizeÂ Â Â Â Â  cex value<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  small.sizeÂ Â Â Â  cex value for small text<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  durationÂ Â Â Â Â Â  wait (sec) before continuing<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  colÂ Â Â Â Â Â Â Â Â Â Â  color<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  newÂ Â Â Â Â Â Â Â Â Â Â  erase what was there?<br />
#<br />
if (new) plot(0,0,xlab=&#8221;",ylab=&#8221;",xaxt=&#8221;n&#8221;,yaxt=&#8221;n&#8221;,type=&#8221;n&#8221;, xlim=xlim, ylim = ylim)<br />
text(center,x=x,y=y, cex = text.size, col = col)<br />
text(above,x=x,y=y+.3, cex = text.size, col = col)<br />
text(below,x=x,y=y-.3, cex = text.size, col = col)<br />
text(bottom,x=x,y=y-.85, cex = small.size, col = col)<br />
Sys.sleep(duration)<br />
}</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2010/04/08/arithmetic-test-r-code-part-4/feed/</wfw:commentRss>
		<slash:comments>7</slash:comments>
		</item>
		<item>
		<title>Arithmetic Test R Code (part 3)</title>
		<link>http://blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-3/</link>
		<comments>http://blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-3/#comments</comments>
		<pubDate>Wed, 07 Apr 2010 13:13:31 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
				<category><![CDATA[R code]]></category>

		<guid isPermaLink="false">http://www.blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-3/</guid>
		<description><![CDATA[> newmath2.set.types function () {# set variables in newmath2 to proper types # newmath2$year<]]></description>
				<content:encoded><![CDATA[<p>> newmath2.set.types<br />
function ()<br />
{# set variables in newmath2 to proper types<br />
#<br />
newmath2$year< <-as.integer(newmath2$year)<br />
newmath2$month< <-as.integer(newmath2$month)<br />
newmath2$day< <-as.integer(newmath2$day)<br />
newmath2$hour< <-as.integer(newmath2$hour)<br />
newmath2$minute< <-as.integer(newmath2$minute)<br />
newmath2$second< <-as.integer(newmath2$second)<br />
newmath2$condition< <-as.character(newmath2$condition)<br />
newmath2$trial< <-as.integer(newmath2$trial)<br />
newmath2$wait.msec< <-as.integer(as.character(newmath2$wait.msec))<br />
newmath2$problem< <-as.character(newmath2$problem)<br />
newmath2$answer.msec< <-as.integer(newmath2$answer.msec)<br />
newmath2$actual.answer< <-as.integer(newmath2$actual.answer)<br />
newmath2$correct< <-as.logical(newmath2$correct)<br />
newmath2$include< <-as.logical(newmath2$include)<br />
newmath2$note< <-as.character(newmath2$note)<br />
}<br />
> save.ws<br />
function ()<br />
{<br />
invisible()<br />
save.image(&#8220;C:/Documents and Settings/Seth/My Documents/omega-3/tracking.RData&#8221;)<br />
cat(&#8220;tracking workspace saved&#8221;,as.character(Sys.time()),&#8221;\n&#8221;)<br />
}</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-3/feed/</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>Arithmetic Test R Code (part 2)</title>
		<link>http://blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-2/</link>
		<comments>http://blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-2/#comments</comments>
		<pubDate>Wed, 07 Apr 2010 13:07:43 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
				<category><![CDATA[R code]]></category>

		<guid isPermaLink="false">http://www.blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-2/</guid>
		<description><![CDATA[new.condition function (conditions.so.far = newmath$condition) {# get new condition name # #Â Â Â Â Â Â Â Â Â Â Â Â  conditions.so.farÂ Â Â Â Â Â Â  vector of conditions so far # cat(&#8220;current time&#8221;,as.character(Sys.time()),&#8221;\n&#8221;) t=as.character(tail(conditions.so.far,1)) #malfunctions without as.character cat(&#8220;most recent condition&#8221;,t,&#8221;\nthis condition&#8221;) condition=scan(nlines=1,what=&#8221;character&#8221;,quiet=TRUE, sep=&#8221;!&#8221;) condition } > newmath2.problems problem answer [1,] &#8220;2*7&#8243;Â Â  &#8220;4&#8243; [2,] &#8220;1*7&#8243;Â Â  &#8220;7&#8243; [3,] &#8220;4+4&#8243;Â Â  &#8220;8&#8243; [4,] &#8220;8+5&#8243;Â Â  &#8220;3&#8243; [5,] &#8220;11-2&#8243;Â  &#8220;9&#8243; [6,] &#8220;4+6&#8243;Â Â  &#8220;0&#8243; [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>new.condition<br />
function (conditions.so.far = newmath$condition)<br />
{# get new condition name<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â  conditions.so.farÂ Â Â Â Â Â Â  vector of conditions so far<br />
#<br />
cat(&#8220;current time&#8221;,as.character(Sys.time()),&#8221;\n&#8221;)<br />
t=as.character(tail(conditions.so.far,1)) #malfunctions without as.character<br />
cat(&#8220;most recent condition&#8221;,t,&#8221;\nthis condition&#8221;)<br />
condition=scan(nlines=1,what=&#8221;character&#8221;,quiet=TRUE, sep=&#8221;!&#8221;)<br />
condition<br />
}</p>
<p>> newmath2.problems<br />
problem answer<br />
[1,] &#8220;2*7&#8243;Â Â  &#8220;4&#8243;<br />
[2,] &#8220;1*7&#8243;Â Â  &#8220;7&#8243;<br />
[3,] &#8220;4+4&#8243;Â Â  &#8220;8&#8243;<br />
[4,] &#8220;8+5&#8243;Â Â  &#8220;3&#8243;<br />
[5,] &#8220;11-2&#8243;Â  &#8220;9&#8243;<br />
[6,] &#8220;4+6&#8243;Â Â  &#8220;0&#8243;<br />
[7,] &#8220;0*8&#8243;Â Â  &#8220;0&#8243;<br />
[8,] &#8220;0+4&#8243;Â Â  &#8220;4&#8243;<br />
[9,] &#8220;9*3&#8243;Â Â  &#8220;7&#8243;<br />
[10,] &#8220;16-9&#8243;Â  &#8220;7&#8243;<br />
[11,] &#8220;6*8&#8243;Â Â  &#8220;8&#8243;<br />
[12,] &#8220;7*6&#8243;Â Â  &#8220;2&#8243;<br />
[13,] &#8220;0+0&#8243;Â Â  &#8220;0&#8243;<br />
[14,] &#8220;10-9&#8243;Â  &#8220;1&#8243;<br />
[15,] &#8220;1*1&#8243;Â Â  &#8220;1&#8243;<br />
[16,] &#8220;8*8&#8243;Â Â  &#8220;4&#8243;<br />
[17,] &#8220;14-7&#8243;Â  &#8220;7&#8243;<br />
[18,] &#8220;5+5&#8243;Â Â  &#8220;0&#8243;<br />
[19,] &#8220;7-3&#8243;Â Â  &#8220;4&#8243;<br />
[20,] &#8220;3+5&#8243;Â Â  &#8220;8&#8243;<br />
[21,] &#8220;0+7&#8243;Â Â  &#8220;7&#8243;<br />
[22,] &#8220;4-4&#8243;Â Â  &#8220;0&#8243;<br />
[23,] &#8220;1+8&#8243;Â Â  &#8220;9&#8243;<br />
[24,] &#8220;4*1&#8243;Â Â  &#8220;4&#8243;<br />
[25,] &#8220;3*1&#8243;Â Â  &#8220;3&#8243;<br />
[26,] &#8220;3-2&#8243;Â Â  &#8220;1&#8243;<br />
[27,] &#8220;7*9&#8243;Â Â  &#8220;3&#8243;<br />
[28,] &#8220;0+8&#8243;Â Â  &#8220;8&#8243;<br />
[29,] &#8220;1*2&#8243;Â Â  &#8220;2&#8243;<br />
[30,] &#8220;9*1&#8243;Â Â  &#8220;9&#8243;<br />
[31,] &#8220;0*0&#8243;Â Â  &#8220;0&#8243;<br />
[32,] &#8220;7+1&#8243;Â Â  &#8220;8&#8243;<br />
[33,] &#8220;2-2&#8243;Â Â  &#8220;0&#8243;<br />
[34,] &#8220;4+5&#8243;Â Â  &#8220;9&#8243;<br />
[35,] &#8220;11-4&#8243;Â  &#8220;7&#8243;<br />
[36,] &#8220;4+3&#8243;Â Â  &#8220;7&#8243;<br />
[37,] &#8220;1*0&#8243;Â Â  &#8220;0&#8243;<br />
[38,] &#8220;1*4&#8243;Â Â  &#8220;4&#8243;<br />
[39,] &#8220;12-8&#8243;Â  &#8220;4&#8243;<br />
[40,] &#8220;7*1&#8243;Â Â  &#8220;7&#8243;<br />
[41,] &#8220;2-1&#8243;Â Â  &#8220;1&#8243;<br />
[42,] &#8220;4*6&#8243;Â Â  &#8220;4&#8243;<br />
[43,] &#8220;9-6&#8243;Â Â  &#8220;3&#8243;<br />
[44,] &#8220;12-3&#8243;Â  &#8220;9&#8243;<br />
[45,] &#8220;4+9&#8243;Â Â  &#8220;3&#8243;<br />
[46,] &#8220;9+4&#8243;Â Â  &#8220;3&#8243;<br />
[47,] &#8220;9*7&#8243;Â Â  &#8220;3&#8243;<br />
[48,] &#8220;15-7&#8243;Â  &#8220;8&#8243;<br />
[49,] &#8220;3*3&#8243;Â Â  &#8220;9&#8243;<br />
[50,] &#8220;8-0&#8243;Â Â  &#8220;8&#8243;<br />
[51,] &#8220;8*9&#8243;Â Â  &#8220;2&#8243;<br />
[52,] &#8220;11-8&#8243;Â  &#8220;3&#8243;<br />
[53,] &#8220;2*2&#8243;Â Â  &#8220;4&#8243;<br />
[54,] &#8220;10-2&#8243;Â  &#8220;8&#8243;<br />
[55,] &#8220;9+8&#8243;Â Â  &#8220;7&#8243;<br />
[56,] &#8220;8-4&#8243;Â Â  &#8220;4&#8243;<br />
[57,] &#8220;2+1&#8243;Â Â  &#8220;3&#8243;<br />
[58,] &#8220;8+3&#8243;Â Â  &#8220;1&#8243;<br />
[59,] &#8220;7-6&#8243;Â Â  &#8220;1&#8243;<br />
[60,] &#8220;3-3&#8243;Â Â  &#8220;0&#8243;<br />
[61,] &#8220;9*9&#8243;Â Â  &#8220;1&#8243;<br />
[62,] &#8220;8+1&#8243;Â Â  &#8220;9&#8243;<br />
[63,] &#8220;6*4&#8243;Â Â  &#8220;4&#8243;<br />
[64,] &#8220;9+9&#8243;Â Â  &#8220;8&#8243;<br />
[65,] &#8220;4*2&#8243;Â Â  &#8220;8&#8243;<br />
[66,] &#8220;6-5&#8243;Â Â  &#8220;1&#8243;<br />
[67,] &#8220;7+5&#8243;Â Â  &#8220;2&#8243;<br />
[68,] &#8220;9*0&#8243;Â Â  &#8220;0&#8243;<br />
[69,] &#8220;3*7&#8243;Â Â  &#8220;1&#8243;<br />
[70,] &#8220;8*1&#8243;Â Â  &#8220;8&#8243;<br />
[71,] &#8220;2+8&#8243;Â Â  &#8220;0&#8243;<br />
[72,] &#8220;0+2&#8243;Â Â  &#8220;2&#8243;<br />
[73,] &#8220;8+0&#8243;Â Â  &#8220;8&#8243;<br />
[74,] &#8220;5-4&#8243;Â Â  &#8220;1&#8243;<br />
[75,] &#8220;6-3&#8243;Â Â  &#8220;3&#8243;<br />
[76,] &#8220;2*0&#8243;Â Â  &#8220;0&#8243;<br />
[77,] &#8220;15-6&#8243;Â  &#8220;9&#8243;<br />
[78,] &#8220;1*9&#8243;Â Â  &#8220;9&#8243;<br />
[79,] &#8220;7-0&#8243;Â Â  &#8220;7&#8243;<br />
[80,] &#8220;12-9&#8243;Â  &#8220;3&#8243;<br />
[81,] &#8220;9+3&#8243;Â Â  &#8220;2&#8243;<br />
[82,] &#8220;4+7&#8243;Â Â  &#8220;1&#8243;<br />
[83,] &#8220;1+7&#8243;Â Â  &#8220;8&#8243;<br />
[84,] &#8220;6-4&#8243;Â Â  &#8220;2&#8243;<br />
[85,] &#8220;6+7&#8243;Â Â  &#8220;3&#8243;<br />
[86,] &#8220;0+3&#8243;Â Â  &#8220;3&#8243;<br />
[87,] &#8220;6+3&#8243;Â Â  &#8220;9&#8243;<br />
[88,] &#8220;13-5&#8243;Â  &#8220;8&#8243;<br />
[89,] &#8220;6+1&#8243;Â Â  &#8220;7&#8243;<br />
[90,] &#8220;16-8&#8243;Â  &#8220;8&#8243;<br />
[91,] &#8220;6+5&#8243;Â Â  &#8220;1&#8243;<br />
[92,] &#8220;8*6&#8243;Â Â  &#8220;8&#8243;<br />
[93,] &#8220;4*0&#8243;Â Â  &#8220;0&#8243;<br />
[94,] &#8220;5+4&#8243;Â Â  &#8220;9&#8243;<br />
[95,] &#8220;6+4&#8243;Â Â  &#8220;0&#8243;<br />
[96,] &#8220;3*9&#8243;Â Â  &#8220;7&#8243;<br />
[97,] &#8220;4+8&#8243;Â Â  &#8220;2&#8243;<br />
[98,] &#8220;5-3&#8243;Â Â  &#8220;2&#8243;<br />
[99,] &#8220;7+0&#8243;Â Â  &#8220;7&#8243;<br />
[100,] &#8220;15-8&#8243;Â  &#8220;7&#8243;<br />
[101,] &#8220;7*3&#8243;Â Â  &#8220;1&#8243;<br />
[102,] &#8220;3+7&#8243;Â Â  &#8220;0&#8243;<br />
[103,] &#8220;6+2&#8243;Â Â  &#8220;8&#8243;<br />
[104,] &#8220;4-3&#8243;Â Â  &#8220;1&#8243;<br />
[105,] &#8220;11-3&#8243;Â  &#8220;8&#8243;<br />
[106,] &#8220;9+2&#8243;Â Â  &#8220;1&#8243;<br />
[107,] &#8220;5-5&#8243;Â Â  &#8220;0&#8243;<br />
[108,] &#8220;7+6&#8243;Â Â  &#8220;3&#8243;<br />
[109,] &#8220;9+1&#8243;Â Â  &#8220;0&#8243;<br />
[110,] &#8220;1*3&#8243;Â Â  &#8220;3&#8243;<br />
[111,] &#8220;1+2&#8243;Â Â  &#8220;3&#8243;<br />
[112,] &#8220;2+0&#8243;Â Â  &#8220;2&#8243;<br />
[113,] &#8220;6-2&#8243;Â Â  &#8220;4&#8243;<br />
[114,] &#8220;13-9&#8243;Â  &#8220;4&#8243;<br />
[115,] &#8220;2*1&#8243;Â Â  &#8220;2&#8243;<br />
[116,] &#8220;9+0&#8243;Â Â  &#8220;9&#8243;<br />
[117,] &#8220;9-1&#8243;Â Â  &#8220;8&#8243;<br />
[118,] &#8220;3-0&#8243;Â Â  &#8220;3&#8243;<br />
[119,] &#8220;12-4&#8243;Â  &#8220;8&#8243;<br />
[120,] &#8220;2+9&#8243;Â Â  &#8220;1&#8243;<br />
[121,] &#8220;10-6&#8243;Â  &#8220;4&#8243;<br />
[122,] &#8220;1+0&#8243;Â Â  &#8220;1&#8243;<br />
[123,] &#8220;4-0&#8243;Â Â  &#8220;4&#8243;<br />
[124,] &#8220;0*2&#8243;Â Â  &#8220;0&#8243;<br />
[125,] &#8220;9*2&#8243;Â Â  &#8220;8&#8243;<br />
[126,] &#8220;14-5&#8243;Â  &#8220;9&#8243;<br />
[127,] &#8220;5-1&#8243;Â Â  &#8220;4&#8243;<br />
[128,] &#8220;9-5&#8243;Â Â  &#8220;4&#8243;<br />
[129,] &#8220;3+0&#8243;Â Â  &#8220;3&#8243;<br />
[130,] &#8220;17-8&#8243;Â  &#8220;9&#8243;<br />
[131,] &#8220;2+7&#8243;Â Â  &#8220;9&#8243;<br />
[132,] &#8220;5+6&#8243;Â Â  &#8220;1&#8243;<br />
[133,] &#8220;8-1&#8243;Â Â  &#8220;7&#8243;<br />
[134,] &#8220;7-5&#8243;Â Â  &#8220;2&#8243;<br />
[135,] &#8220;3+6&#8243;Â Â  &#8220;9&#8243;<br />
[136,] &#8220;6*0&#8243;Â Â  &#8220;0&#8243;<br />
[137,] &#8220;0*4&#8243;Â Â  &#8220;0&#8243;<br />
[138,] &#8220;1*8&#8243;Â Â  &#8220;8&#8243;<br />
[139,] &#8220;7-4&#8243;Â Â  &#8220;3&#8243;<br />
[140,] &#8220;7+2&#8243;Â Â  &#8220;9&#8243;<br />
[141,] &#8220;6-6&#8243;Â Â  &#8220;0&#8243;<br />
[142,] &#8220;9-9&#8243;Â Â  &#8220;0&#8243;<br />
[143,] &#8220;10-7&#8243;Â  &#8220;3&#8243;<br />
[144,] &#8220;3+1&#8243;Â Â  &#8220;4&#8243;<br />
[145,] &#8220;2+5&#8243;Â Â  &#8220;7&#8243;<br />
[146,] &#8220;5+9&#8243;Â Â  &#8220;4&#8243;<br />
[147,] &#8220;5+3&#8243;Â Â  &#8220;8&#8243;<br />
[148,] &#8220;8+6&#8243;Â Â  &#8220;4&#8243;<br />
[149,] &#8220;0*5&#8243;Â Â  &#8220;0&#8243;<br />
[150,] &#8220;0+9&#8243;Â Â  &#8220;9&#8243;<br />
[151,] &#8220;1-1&#8243;Â Â  &#8220;0&#8243;<br />
[152,] &#8220;3-1&#8243;Â Â  &#8220;2&#8243;<br />
[153,] &#8220;7*2&#8243;Â Â  &#8220;4&#8243;<br />
[154,] &#8220;7+4&#8243;Â Â  &#8220;1&#8243;<br />
[155,] &#8220;7+3&#8243;Â Â  &#8220;0&#8243;<br />
[156,] &#8220;1+1&#8243;Â Â  &#8220;2&#8243;<br />
[157,] &#8220;6+6&#8243;Â Â  &#8220;2&#8243;<br />
[158,] &#8220;9-7&#8243;Â Â  &#8220;2&#8243;<br />
[159,] &#8220;9-8&#8243;Â Â  &#8220;1&#8243;<br />
[160,] &#8220;9*8&#8243;Â Â  &#8220;2&#8243;<br />
[161,] &#8220;2*4&#8243;Â Â  &#8220;8&#8243;<br />
[162,] &#8220;8-5&#8243;Â Â  &#8220;3&#8243;<br />
[163,] &#8220;14-6&#8243;Â  &#8220;8&#8243;<br />
[164,] &#8220;9-2&#8243;Â Â  &#8220;7&#8243;<br />
[165,] &#8220;7*4&#8243;Â Â  &#8220;8&#8243;<br />
[166,] &#8220;6+8&#8243;Â Â  &#8220;4&#8243;<br />
[167,] &#8220;16-7&#8243;Â  &#8220;9&#8243;<br />
[168,] &#8220;4*3&#8243;Â Â  &#8220;2&#8243;<br />
[169,] &#8220;8+4&#8243;Â Â  &#8220;2&#8243;<br />
[170,] &#8220;8+2&#8243;Â Â  &#8220;0&#8243;<br />
[171,] &#8220;0*9&#8243;Â Â  &#8220;0&#8243;<br />
[172,] &#8220;6*2&#8243;Â Â  &#8220;2&#8243;<br />
[173,] &#8220;10-1&#8243;Â  &#8220;9&#8243;<br />
[174,] &#8220;4-2&#8243;Â Â  &#8220;2&#8243;<br />
[175,] &#8220;3*8&#8243;Â Â  &#8220;4&#8243;<br />
[176,] &#8220;4-1&#8243;Â Â  &#8220;3&#8243;<br />
[177,] &#8220;7-7&#8243;Â Â  &#8220;0&#8243;<br />
[178,] &#8220;9-0&#8243;Â Â  &#8220;9&#8243;<br />
[179,] &#8220;2*6&#8243;Â Â  &#8220;2&#8243;<br />
[180,] &#8220;12-5&#8243;Â  &#8220;7&#8243;<br />
[181,] &#8220;0-0&#8243;Â Â  &#8220;0&#8243;<br />
[182,] &#8220;0*7&#8243;Â Â  &#8220;0&#8243;<br />
[183,] &#8220;2+6&#8243;Â Â  &#8220;8&#8243;<br />
[184,] &#8220;0*6&#8243;Â Â  &#8220;0&#8243;<br />
[185,] &#8220;11-7&#8243;Â  &#8220;4&#8243;<br />
[186,] &#8220;0*3&#8243;Â Â  &#8220;0&#8243;<br />
[187,] &#8220;18-9&#8243;Â  &#8220;9&#8243;<br />
[188,] &#8220;5+2&#8243;Â Â  &#8220;7&#8243;<br />
[189,] &#8220;4+0&#8243;Â Â  &#8220;4&#8243;<br />
[190,] &#8220;8*4&#8243;Â Â  &#8220;2&#8243;<br />
[191,] &#8220;8*3&#8243;Â Â  &#8220;4&#8243;<br />
[192,] &#8220;8-8&#8243;Â Â  &#8220;0&#8243;<br />
[193,] &#8220;0*1&#8243;Â Â  &#8220;0&#8243;<br />
[194,] &#8220;7+7&#8243;Â Â  &#8220;4&#8243;<br />
[195,] &#8220;2+2&#8243;Â Â  &#8220;4&#8243;<br />
[196,] &#8220;13-6&#8243;Â  &#8220;7&#8243;<br />
[197,] &#8220;8*0&#8243;Â Â  &#8220;0&#8243;<br />
[198,] &#8220;5*0&#8243;Â Â  &#8220;0&#8243;<br />
[199,] &#8220;8+9&#8243;Â Â  &#8220;7&#8243;<br />
[200,] &#8220;3+8&#8243;Â Â  &#8220;1&#8243;<br />
[201,] &#8220;1+3&#8243;Â Â  &#8220;4&#8243;<br />
[202,] &#8220;2*9&#8243;Â Â  &#8220;8&#8243;<br />
[203,] &#8220;5-2&#8243;Â Â  &#8220;3&#8243;<br />
[204,] &#8220;10-3&#8243;Â  &#8220;7&#8243;<br />
[205,] &#8220;4*7&#8243;Â Â  &#8220;8&#8243;<br />
[206,] &#8220;8-6&#8243;Â Â  &#8220;2&#8243;<br />
[207,] &#8220;11-9&#8243;Â  &#8220;2&#8243;<br />
[208,] &#8220;1-0&#8243;Â Â  &#8220;1&#8243;<br />
[209,] &#8220;9+5&#8243;Â Â  &#8220;4&#8243;<br />
[210,] &#8220;6*7&#8243;Â Â  &#8220;2&#8243;<br />
[211,] &#8220;3*0&#8243;Â Â  &#8220;0&#8243;<br />
[212,] &#8220;10-8&#8243;Â  &#8220;2&#8243;<br />
[213,] &#8220;3*4&#8243;Â Â  &#8220;2&#8243;<br />
[214,] &#8220;1+6&#8243;Â Â  &#8220;7&#8243;<br />
[215,] &#8220;13-4&#8243;Â  &#8220;9&#8243;<br />
[216,] &#8220;3+9&#8243;Â Â  &#8220;2&#8243;<br />
[217,] &#8220;5+8&#8243;Â Â  &#8220;3&#8243;<br />
[218,] &#8220;17-9&#8243;Â  &#8220;8&#8243;<br />
[219,] &#8220;0+1&#8243;Â Â  &#8220;1&#8243;<br />
[220,] &#8220;8-7&#8243;Â Â  &#8220;1&#8243;<br />
[221,] &#8220;7*0&#8243;Â Â  &#8220;0&#8243;<br />
[222,] &#8220;5+7&#8243;Â Â  &#8220;2&#8243;<br />
[223,] &#8220;2-0&#8243;Â Â  &#8220;2&#8243;<br />
[224,] &#8220;4*8&#8243;Â Â  &#8220;2&#8243;<br />
[225,] &#8220;3+4&#8243;Â Â  &#8220;7&#8243;<br />
[226,] &#8220;1+9&#8243;Â Â  &#8220;0&#8243;</p>
<p>> newmath2.trial<br />
function (trial = 1, total.trials = 5, problem=newmath2.problems[1,],condition= &#8220;testing&#8221;, wait.range=c(1500,2500), num.possible=9, note = &#8220;&#8221;)<br />
{#give one trial. returns list with components wait, answer.msec, etc.<br />
#(&#8220;okay&#8221; or &#8220;aborted&#8221;) and results.<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  trialÂ Â Â Â Â Â Â Â Â Â Â Â  trial number<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  total.trialsÂ Â Â Â Â  trials per session<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  problemÂ Â Â Â Â Â Â Â Â Â  problem, answer (characters)<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  condition<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  wait.rangeÂ Â Â Â Â Â Â  range of wait times (msec)<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  num.possibleÂ Â Â Â Â  number of possible wait times<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â  note<br />
#<br />
tn=paste(&#8220;trial&#8221;,trial,&#8221;of&#8221;,total.trials)<br />
msg=press.space.to.start(below=tn, col = &#8220;brown&#8221;)<br />
if(msg==&#8221;end session&#8221;) return(&#8220;end session&#8221;)<br />
wait.msec=newmath2.foreperiod(wait.range=wait.range, num.possible = num.possible)<br />
t=newmath2.problem(problem=problem)<br />
newmath2.feedback(problem=problem[1],answer.msec=t$answer.msec,correct=t$correct,status=t$status)<br />
list(wait.msec=wait.msec, answer.msec=t$answer.msec,actual.answer=t$actual.answer, correct=t$correct,include=t$include,status=t$status)<br />
}</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2010/04/07/arithmetic-test-r-code-part-2/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Arithmetic Test R Code (part 1)</title>
		<link>http://blog.sethroberts.net/2010/04/06/arithmetic-task-r-code-part-1/</link>
		<comments>http://blog.sethroberts.net/2010/04/06/arithmetic-task-r-code-part-1/#comments</comments>
		<pubDate>Tue, 06 Apr 2010 11:53:51 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
				<category><![CDATA[R code]]></category>
		<category><![CDATA[self-experimentation]]></category>

		<guid isPermaLink="false">http://www.blog.sethroberts.net/2010/04/06/arithmetic-task-r-code-part-1/</guid>
		<description><![CDATA[[Below is some of the R code that runs the arithmetic test that I use to measure my brain function. This function (newmath2.add) is the top-level function -- the function I actually call when I run the test. Later posts will give the subroutine code. The variable newmath2 is the database -- the variable (a [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>[Below is some of the R code that runs the arithmetic test that I use to measure my brain function. This function (<strong>newmath2.add</strong>) is the top-level function -- the function I actually call when I run the test. Later posts will give the subroutine code. The variable newmath2 is the database -- the variable (a data frame) that holds the data.]</p>
<p>function (trials = 32, note=&#8221;", wait.range=c(1000,2000), num.possible = 9)<br />
{#Like newmath but with separated trials.<br />
#<br />
#Collect data with arithmetic-like task. Simple arithmetic problems with<br />
#the answer being a single digit. 1, 2, 3, 4, 7, 8, 9, 0 equally likely.<br />
#If the answer is two digits (e.g., 12) it is truncated to the last digit<br />
#(e.g., 2). The trials during each session are sampled without replacement<br />
#from all possible problems.<br />
#<br />
#Trials where the response is incorrect are repeated with a new problem.<br />
#Trials can be aborted; this is noted.<br />
#<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â  trialsÂ Â Â Â Â Â Â Â Â Â Â  trials in a session<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â  noteÂ Â Â Â Â Â Â Â Â Â Â Â Â  comment for each trial<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â  wait.rangeÂ Â Â Â Â Â Â  range of wait times (msec)<br />
#Â Â Â Â Â Â Â Â Â Â Â Â Â Â  num.possibleÂ Â Â Â Â  number of possible wait times<br />
#<br />
# 2009.07.11 Fixation symbol changed from + to o. Repetition of<br />
# answer from one question to the next no longer allowed.<br />
# 2009.07.15 Feedback now based only on answers to the same question<br />
# More sophisticated computation of percentile.<br />
# 2009.08.07 Can end session from Press Space screen<br />
# 2009.10.23 fixed abort session and abort trial<br />
#<br />
invisible()<br />
condition=new.condition(newmath2$condition)<br />
start.time=Sys.time()<br />
n=nrow(newmath2.problems)<br />
problems=newmath2.problems[sample(n),]<br />
okay=c(TRUE,!problems[1:(n-1),2]==problems[2:n,2])<br />
problems=problems[okay,]<br />
tr=1<br />
pr=1<br />
while(tr< =trials){<br />
t=newmath2.trial(trial=tr, total.trials = trials, wait.range=wait.range, num.possible = num.possible, problem = problems[pr,], condition=condition, note=note)<br />
if(t[1]==&#8221;end session&#8221;) break<br />
if(t$status!=&#8221;okay&#8221;) {<br />
if(t$status==&#8221;abort trial&#8221;) this.trial.note=&#8221;trial aborted&#8221;<br />
if(t$status==&#8221;abort session&#8221;) this.trial.note=&#8221;session aborted&#8221;<br />
t$include=FALSE<br />
}<br />
else this.trial.note=note<br />
new.line1=c(current(),condition,tr,t$wait.msec, problems[pr,1])<br />
new.line2=c(t$answer.msec,t$actual.answer,t$correct,t$include,this.trial.note)<br />
newmath2< <-rbind(newmath2,c(new.line1,new.line2))<br />
newmath2.set.types()<br />
pr=pr+1<br />
if(t$status==&#8221;abort session&#8221;) break<br />
if(t$status==&#8221;abort trial&#8221;) next<br />
if(!t$correct) next<br />
tr=tr+1<br />
}<br />
msg=paste(&#8220;total time&#8221;,round(difftime(Sys.time(),start.time, unit=&#8221;mins&#8221;),1),&#8221;minutes\n&#8221;)<br />
paint(above = &#8220;all done&#8221;, below=msg, duration = 3)<br />
save.ws()<br />
newmath2.plot()<br />
}</p>
]]></content:encoded>
			<wfw:commentRss>http://blog.sethroberts.net/2010/04/06/arithmetic-task-r-code-part-1/feed/</wfw:commentRss>
		<slash:comments>9</slash:comments>
		</item>
	</channel>
</rss>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Content Delivery Network via Amazon Web Services: S3: srblogfiles.s3.amazonaws.com

 Served from: blog.sethroberts.net @ 2014-10-12 22:54:25 by W3 Total Cache -->